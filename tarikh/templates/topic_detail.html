{% extends "_base.html" %}
{% comment %}
@author: aby
{% endcomment %}

{% load static i18n %}
{% block doc-title %}
{{object.title}} | {{ block.super }}
{% endblock %}

{% block og-type %}article{% endblock %}
{% block og-title %}{{object.title}} | {{ block.super }}{% endblock %} 
{% block og-image %}{% if object.thumbnail_url %}{{object.thumbnail_url}}{% else %}http://{{request.META.HTTP_HOST}}{% static 'img/logo.png' %}{% endif %}{% endblock %} 
{% block og-description %}{{object.short_description}}{% endblock %}

{% block tw-title %}{{object.title}} | {{ block.super }}{% endblock %}
{% block tw-description %}{{object.short_description}}{% endblock %}
{% block tw-image %}{% if object.thumbnail_url %}{{object.thumbnail_url}}{% else %}http://{{request.META.HTTP_HOST}}{% static 'img/logo.png' %}{% endif %}{% endblock %} 


{% block styles %}
	{%if settings.DEBUG%}
    <link title="timeline-styles" rel="stylesheet" href="{% static 'css/timeline.css' %}">
	{%else%}
    <link title="timeline-styles" rel="stylesheet" href="https://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css">
	{%endif%}
{{ block.super }}
{% endblock %}

{% block body-pre-scripts %}
{{ block.super }}
	{%if settings.DEBUG%}
      <script src="{% static 'js/vendor/timeline.min.js' %}"></script>
      <script src="{% static 'js/vendor/jquery.calendars.min.js' %}"></script>
      <script src="{% static 'js/vendor/jquery.calendars-'%}{{settings.LANGUAGE_CODE|slice:":2" }}.js"></script>
      <script src="{% static 'js/vendor/jquery.calendars.plus.min.js' %}"></script>
      <script src="{% static 'js/vendor/jquery.calendars.islamic.min.js' %}"></script>      
	{% else %}
      <script src="https://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"></script>
      <script src="https://gitcdn.xyz/repo/kbwood/calendars/master/jquery.calendars.min.js"></script>
      <script src="https://gitcdn.xyz/repo/kbwood/calendars/master/jquery.calendars-{{settings.LANGUAGE_CODE|slice:":2" }}.js"></script>
      <script src="https://gitcdn.xyz/repo/kbwood/calendars/master/jquery.calendars.plus.min.js"></script>
      <script src="https://gitcdn.xyz/repo/kbwood/calendars/master/jquery.calendars.islamic.min.js"></script>
			<script>window.TL || document.write('<script src="{% static "js/vendor/timeline.min.js" %}"><\/script>')</script>
	{% endif %}
{% endblock %}
{% block body-post-scripts %}
      <script src="{% static 'js/tarikh.topic.js' %}"></script>
{{ block.super }}
{% endblock %}
    
{% block content %}
    <div class="topic-info">
    		<div class="topic-thumbnail" >
    		{% if object.thumbnail_url %}
    			<img {% if settings.DEBUG %} src="{% static 'img/logo.png' %}" {% else %} src="{{object.thumbnail_url}}" {% endif %} class="topic-img" >
    		{% else %}
    		<img src="{% static 'img/logo.png' %}" class="topic_img" >
        {% endif %}
        </div>
        <div>
        <div class="topic-header-wrap">
					<h3 class="topic-header">{{object.title}} </h3>
				</div>
        <div class="topic-short">{{object.short_description}} </div>
        <div class="topic-scales hidden">{{object.scales}} </div>
        </div>
    </div>
		<div class="pre-toolbar clearfix"></div>
    <div class="navbar toolbar-top">
    <div class="container">        
    	<div class="btn-group" data-toggle="buttons">
	    	<!--
				<button type="submit" class="btn btn-default"><i class="fa fa-mobile fa-lg"></i></button>
				-->
			  <label class="btn btn-default" data-toggle="tooltip" data-placement="top" title="{% trans 'Desktop/Tablet Mode - Horizontal Timeline' %}">
			    <input type="radio" name="mode" value="horizontal" autocomplete="off"> <i class="fa fa-desktop fa-lg"></i>
			  </label>
			  <label class="btn btn-default btn-inverse active" data-toggle="tooltip" data-placement="top" title="{% trans 'Mobile Mode - Vertical Timeline' %}">
			    <input type="radio" name="mode" value="vertical" autocomplete="off" checked> <i class="fa fa-tablet fa-lg"></i>
			  </label>
			</div>
    	<div class="btn-group" data-toggle="buttons">
			  <label class="btn btn-default" data-toggle="tooltip" data-placement="top" title="{% trans 'Sort Date Ascending' %}">
			    <input type="radio" name="sort" value="asc" autocomplete="off"> <i class="fa fa-sort-numeric-asc fa-lg"></i>
			  </label>
			  <label class="btn btn-default active" data-toggle="tooltip" data-placement="top" title="{% trans 'Sort Date Descending' %}">
			    <input type="radio" name="sort" value="desc" autocomplete="off" checked> <i class="fa fa-sort-numeric-desc fa-lg"></i>
			  </label>
			</div>
    	<div class="btn-group" data-toggle="buttons">
			  <label class="btn btn-default" data-toggle="tooltip" data-placement="top" title="{% trans 'Hijri' %}">
			    <input type="radio" name="calendar" value="hijri" autocomplete="off"> <i class="fa fa-moon-o fa-lg"></i>
			  </label>
			  <label class="btn btn-default active" data-toggle="tooltip" data-placement="top" title="{% trans 'Gregorian' %}">
			    <input type="radio" name="calendar" value="gregorian" autocomplete="off" checked> <i class="fa fa-sun-o fa-lg"></i>
			  </label>
			</div>
    </div>
		</div>
		<div class='timeline-wrap'>
    <div id='timeline-embed' style="width: 100%; "></div>
    </div>
    <div class="topic-info-more">
        <input type="checkbox" class="rm-state" id="topic-rm-wrap" />
        <div class="topic-rm-wrap rm-wrap">
      	<label for="topic-rm-wrap" class="rm-trigger rm-target">
        	<div class="topic-desc rm-target">{{object.description|safe}} </div>  
        	<div class="topic-footer">{{object.footnote|safe}} </div>      	
				</label>
        </div>
  			<label for="topic-rm-wrap" class="topic-rm-trigger rm-shade rm-trigger">
					<span class="rm-textmore"><i class="fa fa-lg fa-angle-down"></i> {%trans 'More'%} <i class="fa fa-lg fa-angle-down"></i></span>
					<span class="rm-textless"><i class="fa fa-lg fa-angle-up"></i> {%trans 'Less'%} <i class="fa fa-lg fa-angle-up"></i></span>
				</label>
    </div>
    <ol class="timeline">
	    <li class="event-item hidden" title="{% trans 'Click for detail'%}">
        <input type="checkbox" class="rm-state" id="event-rm-wrap" />
        <div class="event-rm-wrap rm-wrap">
        	<label for="event-rm-wrap" class="rm-trigger rm-target">
		        <time class="event-start-time">1589</time><time class="event-end-time">1591</time>
		        <cite class="event-title">The Two Gentlemen of Verona</cite>
		        <dl class="event-desc">
		            <dt>First official record</dt><dd>Francis Meres'...</dd>
		            <dt>First published</dt><dd>First Folio (1623)</dd>
		            <dt>First recorded performance</dt><dd>adaptation by...</dd>
		            <dt>Evidence</dt><dd>The play contains...</dd>
		        </dl>
		        <dl class="event-note">aa
		        </dl>
		      </label>
        </div>
  			<label for="event-rm-wrap" class="event-rm-trigger rm-shade rm-trigger">
  			<!--
					<span class="event-rm-textmore rm-textmore"><i class="fa fa-lg fa-angle-down"></i><i class="fa fa-lg fa-angle-down"></i></span>
					<span class="event-rm-textless rm-textless"><i class="fa fa-lg fa-angle-up"></i><i class="fa fa-lg fa-angle-up"></i></span>
					-->
				</label>
	    </li>
		</ol>
{% endblock %}

